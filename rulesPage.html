<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Magic Cards/rules</title>
<link rel="stylesheet" href="game.css">
<script>
var ctx; 
var canvas; 
function wrapText(ctx, text, x, y, maxWidth, lineHeight) {         
var words = text.split(" ");         
var line = "";
        for(var n = 0; n < words.length; n++) {           
		var testLine = line + words[n] + " ";           
		var metrics = ctx.measureText(testLine);           
		var testWidth = metrics.width;           
		if(testWidth > maxWidth) {             
			ctx.fillText(line, x, y);
            line = words[n] + " ";             
			y += lineHeight;
          }else {
            line = testLine;
          }
        }
        ctx.fillText(line, x, y);       
}
function drawPage(){
	canvas = document.getElementById("myCav");
	ctx = canvas.getContext("2d");
	//background image;
    backgroundImage=new Image();
	backgroundImage.src="image/background0.png";
	ctx.drawImage(backgroundImage, 0, 0);

	//rules
	maxWidth=300;
	lineHeight=30;
	
	rules=new Image();
	rules.src="image/rulesBackground.png";
	ctx.drawImage(rules, 0, 20);
	
	
	ctx.font="25px Comic Sans MS";
    ctx.fillStyle = "#01294d";
	ctx.textAlign = "center";
	//ctx.fillText("click to reveal the cards that do not contain the bombs. You score more if you can reveal cards with identical objects consecurively.", canvas.width/2, canvas.height/2);
	text="click to reveal the cards that do not contain the bombs. You score more if you can reveal cards with identical objects consecurively.";
	 wrapText(ctx, text, canvas.width/2, 100, maxWidth, lineHeight); 
	//start button
	buttonX=60;
	buttonY=400;
	buttonWidth=192;
	buttonHeight=52;
	startButton=new Image();
	startButton.src="image/startButton.png";
	ctx.drawImage(startButton, buttonX, buttonY);
	
	//button listener
	canvas.addEventListener('click', clickButton, false);
	
	/*card = new Image();
	card.src="magic_card2.gif";
	bomb = new Image();
	bomb.src="bomb.gif";
	
	ctx.drawImage(card, 5, 50);*/
	
}
function clickButton(ev){
var mx; 
var my; 

var i; 

if (ev.layerX || ev.layerX == 0) { // Firefox 
mx = ev.layerX; 
my = ev.layerY; 
} else if (ev.offsetX || ev.offsetX == 0) { // Opera 
mx = ev.offsetX; 
my = ev.offsetY; 
} 
if (mx > buttonX && mx < (buttonX + buttonWidth) && my > buttonY && my < (buttonY + buttonHeight)) 
		{ 
	window.location.href="game.html";
	}

}

</script>
</head>

<body onload="drawPage()">

<canvas id="myCav" width="320" height="480"
style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>
<div id="images">

<img src="image/rulesBackground.png" width="30" height="30">

<img src="image/startButton.png" width="30" height="30">
<img src="image/background0.png" width="320" height="480" id="backgroundImage" style="left:100px;top:100px;">
</div>
</body>

</html>